"""Logging functions"""
import logging
from typing import Optional
from pathlib import Path


def create_logger(name: str, level: int, folder: str, fname: Optional[str] = None):
    """
    Configure a basic logger.

    Args:
        name (str): logger name
        level (int): level logging.[INFO, WARNING, ERROR, DEBUG]
        folder (str): where to save the log
        fname (Optional, optional): Name of the logging file. If None, save it as "log.txt".Defaults to None.
    """

    logger = logging.getLogger(name)
    logger.setLevel(level)

    formatter = logging.Formatter("%(asctime)s:%(name)s:%(levelname)s: %(message)s")

    if fname is None:
        fname = Path(folder) / "log.txt"
    else:
        fname = Path(folder) / name

    handler = logging.FileHandler(fname.as_posix(), mode="a")
    handler.setFormatter(formatter)
    logger.addHandler(handler)

    return logger
